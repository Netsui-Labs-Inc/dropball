id: 22815
name: peryapinoy
environments:
  production:
      gateway-version: 2
      memory: 1024
      warm: 10
      database: kingpindb
      queue-concurrency: 1
      domain: peryapinoy.com
      cli-memory: 512
      runtime: 'php-8.0:al2'
      queues:
        - broadcast
        - winners
        - commissions
        - other-commissions
      build:
        - 'COMPOSER_MIRROR_PATH_REPOS=1 composer install --no-dev'
        - 'php artisan event:cache'
        - 'npm install && npm run dev && rm -rf node_modules'
      deploy:
        - 'php artisan queue:restart'
  staging:
      gateway-version: 2
      memory: 1024
      warm: 10
      database: kingpinstagingdb
      queue-concurrency: 1
      network: vapor-network-1624703899
      domain: staging.peryapinoy.com
      cli-memory: 512
      runtime: 'php-8.0:al2'
      queues:
        - broadcast
        - winners
        - commissions
        - other-commissions
      build:
        - 'composer install --no-dev'
        - 'php artisan event:cache'
        - 'npm install && npm run prod && rm -rf node_modules'
      deploy:
        - 'php artisan queue:restart'

